import{K as P,n as E,F as S,x as W,r as o,j as e,h as d,i as x,k as h,m,al as w,B as n,s as j,l as A}from"./index-C2MjUc6j.js";import{B as T}from"./badge-BmD5Ofur.js";import{s as L}from"./index-z1pI4DUj.js";import{L as p,q as U}from"./Layout-lstxxF2Q.js";import{C as B}from"./circle-check-AANQYRHH.js";import{C as F}from"./circle-x-BfMI6AYM.js";import{A as H}from"./arrow-left--QLewZ4I.js";import{E as D}from"./external-link-CxuW4vQj.js";import"./index-C0NKCsYR.js";import"./index-BOT--vBY.js";const N={apiKey:"",products:{pro:{monthly:"",yearly:""},premium:{monthly:"",yearly:""}},urls:{success:window.location.origin+"/payment?status=success",cancel:window.location.origin+"/payment?status=cancel"}},I=(a,s)=>{const i=a.toLowerCase();return N.products[i]?{id:N.products[i][s],plan:a,cycle:s}:null},R=(a,s)=>{const i=s?`?metadata={"user_id":"${s}"}`:"";return`https://whop.com/checkout/${a}${i}`};function Q(){var g;const a=P(),s=E(),[i]=S(),{toast:y}=W(),[c,v]=o.useState(null),[b,f]=o.useState(!1),l=i.get("status"),t=a.state;o.useEffect(()=>{k()},[]),o.useEffect(()=>{if(!t&&!l){s("/pricing");return}},[t,l,s]);const k=async()=>{try{const{data:{user:r}}=await L.auth.getUser();if(!r){l||s("/auth");return}v(r)}catch(r){console.error("Error checking user:",r),s("/auth")}},C=()=>{if(!c||!t)return;f(!0);const r=I(t.plan,t.billingCycle);if(!r||!r.id){y({title:"Configuration Error",description:"Payment system is not fully configured. Please try again later.",variant:"destructive"}),f(!1);return}const u=R(r.id,c.id);window.location.href=u},z={pro:["Unlimited prompts","Advanced AI agents","Priority support","Team collaboration","API access"],premium:["Everything in Pro","Advanced AI models","White-label solutions","Dedicated support","Custom integrations"]};return l==="success"?e.jsx(p,{user:c,showHeader:!1,children:e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsxs(d,{className:"max-w-md w-full bg-zinc-950 border-white/10 shadow-2xl",children:[e.jsxs(x,{className:"text-center pb-2",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:e.jsx(B,{className:"w-8 h-8 text-green-400"})}),e.jsx(h,{className:"text-white text-2xl",children:"Payment Successful!"})]}),e.jsx(m,{className:"text-center space-y-4",children:e.jsx("p",{className:"text-zinc-400",children:"Thank you for your purchase. Your subscription is now active and your account has been upgraded."})}),e.jsx(w,{className:"flex flex-col gap-3",children:e.jsx(n,{onClick:()=>s("/dashboard"),className:"w-full bg-white text-black hover:bg-zinc-200",children:"Go to Dashboard"})})]})})}):l==="cancel"?e.jsx(p,{user:c,showHeader:!1,children:e.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:e.jsxs(d,{className:"max-w-md w-full bg-zinc-950 border-white/10 shadow-2xl",children:[e.jsxs(x,{className:"text-center pb-2",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20",children:e.jsx(F,{className:"w-8 h-8 text-red-400"})}),e.jsx(h,{className:"text-white text-2xl",children:"Payment Cancelled"})]}),e.jsx(m,{className:"text-center space-y-4",children:e.jsx("p",{className:"text-zinc-400",children:"The payment process was cancelled or failed. No charges were made to your account."})}),e.jsxs(w,{className:"flex flex-col gap-3",children:[e.jsx(n,{onClick:()=>s("/pricing"),variant:"outline",className:"w-full text-white border-zinc-800 hover:bg-zinc-900",children:"Try Again"}),e.jsx(n,{onClick:()=>s("/dashboard"),variant:"ghost",className:"w-full text-zinc-400 hover:text-white",children:"Return to Dashboard"})]})]})})}):t?e.jsx(p,{user:c,showHeader:!1,children:e.jsxs("div",{className:"min-h-screen bg-black py-16 relative overflow-hidden smooth-page",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none z-0",children:e.jsx("div",{className:"text-[30rem] font-black text-zinc-800/30 tracking-tighter leading-none",children:"PromptX"})}),e.jsx("div",{className:"absolute inset-0 opacity-[0.015]",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"24px 24px"}})}),e.jsxs("div",{className:"responsive-container relative z-10 max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-12",children:[e.jsx("div",{children:e.jsxs(n,{variant:"ghost",onClick:()=>s("/pricing"),className:"text-zinc-400 hover:text-white hover:bg-white/[0.05] border border-white/[0.05] hover:border-white/[0.1] rounded-xl px-4 py-2 smooth-button mb-4",children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Back to Pricing"]})}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("h1",{className:"text-3xl font-light text-white tracking-wide",children:"Checkout"}),e.jsx("p",{className:"text-zinc-500 mt-1 font-light",children:"Secure payment processing via Whop"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 items-start",children:[e.jsxs(d,{className:"bg-zinc-950/80 border border-white/[0.08] backdrop-blur-xl rounded-2xl overflow-hidden",children:[e.jsx(x,{className:"pb-6 border-b border-white/[0.05]",children:e.jsxs(h,{className:"text-white flex items-center gap-3 text-xl font-light",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/[0.08] flex items-center justify-center border border-white/[0.05]",children:e.jsx(j,{className:"w-5 h-5 text-white"})}),"Order Summary"]})}),e.jsxs(m,{className:"pt-8 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.03] p-4 rounded-xl border border-white/[0.05]",children:[e.jsx("span",{className:"text-zinc-300",children:"Plan"}),e.jsx(T,{className:"bg-white text-black font-bold uppercase tracking-wide",children:t.plan})]}),e.jsxs("div",{className:"flex justify-between items-center bg-white/[0.03] p-4 rounded-xl border border-white/[0.05]",children:[e.jsx("span",{className:"text-zinc-300",children:"Billing Cycle"}),e.jsx("span",{className:"text-white capitalize",children:t.billingCycle})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx("span",{className:"text-white text-xl font-light",children:"Total due today"}),e.jsxs("span",{className:"text-white text-3xl font-light tracking-wide",children:["$",t.price]})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-white/[0.05]",children:[e.jsx("h3",{className:"text-white mb-4 font-medium flex items-center gap-2",children:"Included specific features:"}),e.jsx("ul",{className:"space-y-3",children:(g=z[t.plan])==null?void 0:g.map((r,u)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-zinc-400",children:[e.jsx(j,{className:"w-4 h-4 text-green-400 mt-0.5 shrink-0"}),r]},u))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(d,{className:"bg-zinc-950/80 border border-white/[0.08] backdrop-blur-xl rounded-2xl overflow-hidden",children:[e.jsxs(x,{className:"pb-6 border-b border-white/[0.05]",children:[e.jsxs(h,{className:"text-white flex items-center gap-3 text-xl font-light",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-indigo-500/20 to-purple-500/20 flex items-center justify-center border border-white/[0.05]",children:e.jsx(U,{className:"w-5 h-5 text-indigo-400"})}),"Secure Payment"]}),e.jsx(A,{className:"text-zinc-400",children:"You will be redirected to Whop to complete your purchase securely."})]}),e.jsxs(m,{className:"pt-8 pb-8 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-center p-6 border border-dashed border-white/10 rounded-xl bg-white/[0.02]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-zinc-400 text-sm mb-2",children:"Powered by"}),e.jsx("span",{className:"text-2xl font-bold text-white tracking-tight",children:"Whop"})]})}),e.jsx(n,{onClick:C,disabled:b,className:"w-full h-14 bg-[#FF6243] hover:bg-[#E0553A] text-white font-bold shadow-lg shadow-orange-900/20 rounded-xl text-lg transition-all hover:scale-[1.02] active:scale-[0.98]",children:b?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white"}),"Redirecting..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:["Pay with Whop ",e.jsx(D,{className:"w-4 h-4"})]})}),e.jsx("p",{className:"text-xs text-zinc-500 text-center px-4",children:"By clicking above, you agree to be redirected to Whop for payment processing. Your subscription will be activated automatically upon successful payment."})]})]}),e.jsxs("div",{className:"flex justify-center gap-6 opacity-40 grayscale",children:[e.jsx("span",{className:"text-xs text-zinc-500 font-mono",children:"SSL ENCRYPTED"}),e.jsx("span",{className:"text-xs text-zinc-500 font-mono",children:"SECURE CHECKOUT"})]})]})]})]})]})}):null}export{Q as default};
