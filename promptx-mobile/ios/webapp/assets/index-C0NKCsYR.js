import{r as s,j as f,g as H,a as V,b as z,d as q,u as J,G as Q,P as G,e as m,f as W}from"./index-C2MjUc6j.js";import{u as X}from"./index-z1pI4DUj.js";const Z=s.forwardRef(({className:e,type:t,...n},o)=>f.jsx("input",{type:t,className:H("flex h-11 w-full rounded-lg border border-input bg-background px-4 py-3 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200 hover:border-ring/50 focus:border-ring shadow-sm min-h-[44px]",e),ref:o,...n}));Z.displayName="Input";var A="rovingFocusGroup.onEntryFocus",$={bubbles:!1,cancelable:!0},v="RovingFocusGroup",[_,N,ee]=V(v),[oe,de]=z(v,[ee]),[te,re]=oe(v),O=s.forwardRef((e,t)=>f.jsx(_.Provider,{scope:e.__scopeRovingFocusGroup,children:f.jsx(_.Slot,{scope:e.__scopeRovingFocusGroup,children:f.jsx(ne,{...e,ref:t})})}));O.displayName=v;var ne=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:x=!1,dir:E,currentTabStopId:b,defaultCurrentTabStopId:T,onCurrentTabStopIdChange:C,onEntryFocus:p,preventScrollOnEntryFocus:c=!1,...g}=e,I=s.useRef(null),F=q(t,I),R=X(E),[w,r]=J({prop:b,defaultProp:T??null,onChange:C,caller:v}),[i,S]=s.useState(!1),u=Q(p),l=N(n),h=s.useRef(!1),[M,P]=s.useState(0);return s.useEffect(()=>{const a=I.current;if(a)return a.addEventListener(A,u),()=>a.removeEventListener(A,u)},[u]),f.jsx(te,{scope:n,orientation:o,dir:R,loop:x,currentTabStopId:w,onItemFocus:s.useCallback(a=>r(a),[r]),onItemShiftTab:s.useCallback(()=>S(!0),[]),onFocusableItemAdd:s.useCallback(()=>P(a=>a+1),[]),onFocusableItemRemove:s.useCallback(()=>P(a=>a-1),[]),children:f.jsx(G.div,{tabIndex:i||M===0?-1:0,"data-orientation":o,...g,ref:F,style:{outline:"none",...e.style},onMouseDown:m(e.onMouseDown,()=>{h.current=!0}),onFocus:m(e.onFocus,a=>{const L=!h.current;if(a.target===a.currentTarget&&L&&!i){const D=new CustomEvent(A,$);if(a.currentTarget.dispatchEvent(D),!D.defaultPrevented){const y=l().filter(d=>d.focusable),U=y.find(d=>d.active),B=y.find(d=>d.id===w),Y=[U,B,...y].filter(Boolean).map(d=>d.ref.current);K(Y,c)}}h.current=!1}),onBlur:m(e.onBlur,()=>S(!1))})})}),j="RovingFocusGroupItem",k=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:x=!1,tabStopId:E,children:b,...T}=e,C=W(),p=E||C,c=re(j,n),g=c.currentTabStopId===p,I=N(n),{onFocusableItemAdd:F,onFocusableItemRemove:R,currentTabStopId:w}=c;return s.useEffect(()=>{if(o)return F(),()=>R()},[o,F,R]),f.jsx(_.ItemSlot,{scope:n,id:p,focusable:o,active:x,children:f.jsx(G.span,{tabIndex:g?0:-1,"data-orientation":c.orientation,...T,ref:t,onMouseDown:m(e.onMouseDown,r=>{o?c.onItemFocus(p):r.preventDefault()}),onFocus:m(e.onFocus,()=>c.onItemFocus(p)),onKeyDown:m(e.onKeyDown,r=>{if(r.key==="Tab"&&r.shiftKey){c.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const i=ce(r,c.orientation,c.dir);if(i!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)return;r.preventDefault();let u=I().filter(l=>l.focusable).map(l=>l.ref.current);if(i==="last")u.reverse();else if(i==="prev"||i==="next"){i==="prev"&&u.reverse();const l=u.indexOf(r.currentTarget);u=c.loop?ue(u,l+1):u.slice(l+1)}setTimeout(()=>K(u))}}),children:typeof b=="function"?b({isCurrentTabStop:g,hasTabStop:w!=null}):b})})});k.displayName=j;var se={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ce(e,t,n){const o=ae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return se[o]}function K(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function ue(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var pe=O,me=k;export{Z as I,pe as R,me as a,de as c};
