<?xml version="1.0" encoding="utf-8"?>
<!-- PromptX Floating Overlay Widget
     Compact draggable pill that expands to show enhanced prompt preview.
     Matches PromptX dark theme (#0a0a0f primary, #7c3aed accent). -->
<LinearLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="vertical"
    android:background="@android:color/transparent"
    android:padding="4dp">

    <!-- Compact Pill (always visible when overlay is shown) -->
    <LinearLayout
        android:id="@+id/pill_container"
        android:layout_width="wrap_content"
        android:layout_height="44dp"
        android:orientation="horizontal"
        android:gravity="center_vertical"
        android:paddingStart="14dp"
        android:paddingEnd="14dp"
        android:background="@drawable/overlay_pill_bg"
        android:elevation="12dp"
        android:clickable="true"
        android:focusable="true">

        <TextView
            android:id="@+id/status_icon"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="✨"
            android:textSize="16sp"
            android:layout_marginEnd="6dp" />

        <TextView
            android:id="@+id/status_text"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="PromptX"
            android:textColor="#e4e4e7"
            android:textSize="13sp"
            android:fontFamily="sans-serif-medium" />

        <ImageButton
            android:id="@+id/btn_close"
            android:layout_width="20dp"
            android:layout_height="20dp"
            android:layout_marginStart="8dp"
            android:src="@android:drawable/ic_menu_close_clear_cancel"
            android:background="@android:color/transparent"
            android:tint="#71717a"
            android:scaleType="centerInside"
            android:contentDescription="Close overlay" />
    </LinearLayout>

    <!-- Expanded Content (hidden by default, shown when enhanced prompt ready) -->
    <LinearLayout
        android:id="@+id/expanded_content"
        android:layout_width="280dp"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:visibility="gone"
        android:layout_marginTop="4dp"
        android:padding="14dp"
        android:background="@drawable/overlay_expanded_bg"
        android:elevation="16dp">

        <!-- Enhanced prompt preview -->
        <TextView
            android:id="@+id/enhanced_preview"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Enhanced prompt will appear here..."
            android:textColor="#a1a1aa"
            android:textSize="12sp"
            android:lineSpacingMultiplier="1.3"
            android:maxLines="4"
            android:ellipsize="end"
            android:layout_marginBottom="10dp" />

        <!-- Action buttons -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="horizontal"
            android:gravity="end">

            <TextView
                android:id="@+id/btn_dismiss"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:gravity="center"
                android:text="Dismiss"
                android:textColor="#71717a"
                android:textSize="12sp"
                android:fontFamily="sans-serif-medium"
                android:paddingStart="12dp"
                android:paddingEnd="12dp"
                android:clickable="true"
                android:focusable="true" />

            <TextView
                android:id="@+id/btn_use_enhanced"
                android:layout_width="wrap_content"
                android:layout_height="32dp"
                android:gravity="center"
                android:text="✨ Use Enhanced"
                android:textColor="#ffffff"
                android:textSize="12sp"
                android:fontFamily="sans-serif-medium"
                android:paddingStart="16dp"
                android:paddingEnd="16dp"
                android:layout_marginStart="8dp"
                android:background="@drawable/overlay_button_bg"
                android:clickable="true"
                android:focusable="true" />
        </LinearLayout>
    </LinearLayout>
</LinearLayout>
