var se=Object.defineProperty;var te=(r,t,s)=>t in r?se(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var q=(r,t,s)=>te(r,typeof t!="symbol"?t+"":t,s);import{c as Z,r as m,j as e,h as n,m as w,i as k,k as T,l as z,B as M,s as D,q as ae,o as g,n as re,T as ie}from"./index-C2MjUc6j.js";import{s as I}from"./index-z1pI4DUj.js";import{F as ne,L as le}from"./Layout-lstxxF2Q.js";import{B as P}from"./badge-BmD5Ofur.js";import{P as H}from"./progress-Dbp9893P.js";import{A as X}from"./activity-CcWScsmI.js";import{G as oe}from"./git-branch-9MzCmu0-.js";import{a as ce}from"./index-BOT--vBY.js";import{C as u}from"./circle-check-big-BtjQXCTU.js";import{C as $}from"./circle-alert-Bo2AORMt.js";import{C as me}from"./clock-BofKCsJM.js";import{S as G}from"./shield-BU0WWken.js";import{S as F}from"./switch-BDe6Vgzr.js";import{L as y}from"./label-CPXGueWk.js";import{T as de,a as xe,b as _,c as V}from"./tabs-CyOF3ppl.js";import{I as pe}from"./index-C0NKCsYR.js";import{T as he}from"./textarea-BKVa-xUV.js";import{S as J,a as W,b as K,c as Q,d as Y}from"./select-JOWFLGTk.js";import{D as ee}from"./download-HMPM07Ay.js";import{L as ue}from"./lock-DoPTFIOb.js";import{D as ge}from"./database-BnEdoFjB.js";import{E as fe}from"./eye-IzXR7YU-.js";import"./index-CdTD_yct.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=Z("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),ve=({userId:r,teamId:t})=>{const[s,o]=m.useState({totalVersions:0,activeDeployments:0,criticalViolations:0,avgExecutionTime:0,successRate:0,totalCost:0}),[c,i]=m.useState(!0);m.useEffect(()=>{d()},[r,t]);const d=async()=>{try{const[v,N,E,b]=await Promise.all([I.from("prompt_versions").select("*",{count:"exact",head:!0}).eq("created_by",r),I.from("prompt_deployments").select("*",{count:"exact",head:!0}).eq("status","active"),I.from("compliance_violations").select("*",{count:"exact",head:!0}).eq("severity","critical").is("resolved_at",null),I.from("prompt_metrics").select("execution_time_ms, success, cost").eq("user_id",r).limit(100)]),h=b.data||[],A=h.reduce((f,x)=>f+(x.execution_time_ms||0),0)/h.length||0,O=h.filter(f=>f.success).length,L=h.length>0?O/h.length*100:0,R=h.reduce((f,x)=>f+(Number(x.cost)||0),0);o({totalVersions:v.count||0,activeDeployments:N.count||0,criticalViolations:E.count||0,avgExecutionTime:A,successRate:L,totalCost:R})}catch(v){console.error("Error fetching stats:",v)}finally{i(!1)}};return c?e.jsx(n,{children:e.jsx(w,{className:"py-12 text-center",children:e.jsx("div",{className:"animate-pulse",children:"Loading PromptOps dashboard..."})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(X,{className:"w-8 h-8 text-primary"}),"PromptOps Dashboard"]}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Enterprise-grade prompt operations, monitoring & compliance"})]})}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs(n,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium",children:"Total Versions"}),e.jsx(oe,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.totalVersions}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Version controlled prompts"})]})]}),e.jsxs(n,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium",children:"Active Deployments"}),e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(w,{children:[e.jsx("div",{className:"text-2xl font-bold",children:s.activeDeployments}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Production environments"})]})]}),e.jsxs(n,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium",children:"Success Rate"}),e.jsx(u,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(w,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.successRate.toFixed(1),"%"]}),e.jsx(H,{value:s.successRate,className:"mt-2"})]})]}),e.jsxs(n,{children:[e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium",children:"Critical Violations"}),e.jsx($,{className:`h-4 w-4 ${s.criticalViolations>0?"text-red-600":"text-green-600"}`})]}),e.jsxs(w,{children:[e.jsx("div",{className:`text-2xl font-bold ${s.criticalViolations>0?"text-red-600":"text-green-600"}`,children:s.criticalViolations}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs(n,{children:[e.jsxs(k,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-5 h-5"}),"Performance"]}),e.jsx(z,{children:"Execution metrics"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Avg Execution Time"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.avgExecutionTime.toFixed(0),"ms"]})]}),e.jsx(H,{value:Math.min(s.avgExecutionTime/5e3*100,100)})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Cost"}),e.jsxs("span",{className:"text-sm font-bold",children:["$",s.totalCost.toFixed(4)]})]})})]})]}),e.jsxs(n,{children:[e.jsxs(k,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5"}),"Compliance Status"]}),e.jsx(z,{children:"Brand safety & governance"})]}),e.jsxs(w,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Content Policy"}),e.jsxs(P,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Compliant"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Data Privacy"}),e.jsxs(P,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Compliant"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Brand Safety"}),s.criticalViolations>0?e.jsxs(P,{variant:"outline",className:"bg-red-500/10 text-red-600 border-red-500/20",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),s.criticalViolations," Issues"]}):e.jsxs(P,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:[e.jsx(u,{className:"w-3 h-3 mr-1"}),"Compliant"]})]})]})]})]}),e.jsxs(n,{className:"border-primary/20 bg-gradient-to-r from-primary/5 to-primary/10",children:[e.jsx(k,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ne,{className:"w-5 h-5"}),"Enterprise PromptOps Features"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Git-style Version Control"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Track, compare, and rollback prompt versions"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Multi-Environment Deployments"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Staging, production, and development pipelines"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Real-time Monitoring"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Track performance, costs, and usage metrics"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Compliance & Governance"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Automated brand safety and policy enforcement"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Audit Logs"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Complete activity tracking for security & compliance"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{className:"w-4 h-4 text-primary mt-1"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Team Collaboration"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Secure prompt sharing and deployment workflows"})]})]})]})})]})]})};class B{static getTemplatesByCategory(t){return this.templates.filter(s=>s.category===t)}static getTemplatesByIndustry(t){return this.templates.filter(s=>s.industry===t)}static getAllTemplates(){return this.templates}static getTemplate(t){return this.templates.find(s=>s.id===t)}static generatePrompt(t,s){const o=this.getTemplate(t);if(!o)throw new Error(`Template ${t} not found`);let c=o.template;return o.variables.forEach(i=>{const d=s[i]||`[${i}]`;c=c.replace(new RegExp(`\\{${i}\\}`,"g"),d)}),c}static analyzePrompt(t){const s=t.trim().split(/\s+/).length,o=t.length,c=Math.ceil(s*1.3);let i="simple";s>100&&(i="moderate"),s>200&&(i="complex");const d=[];return s<10&&d.push("Consider adding more context and details"),!t.includes("?")&&s<50&&d.push("Consider adding specific questions or requirements"),t.split(`
`).length<2&&s>50&&d.push("Break down into multiple sections for clarity"),{wordCount:s,characterCount:o,estimatedTokens:c,complexity:i,suggestedImprovements:d}}static saveCustomTemplate(t){const s={...t,id:`custom-${Date.now()}`},o=this.getCustomTemplates();return o.push(s),localStorage.setItem("customPromptTemplates",JSON.stringify(o)),s}static getCustomTemplates(){const t=localStorage.getItem("customPromptTemplates");return t?JSON.parse(t):[]}static getAllTemplatesIncludingCustom(){return[...this.templates,...this.getCustomTemplates()]}}q(B,"templates",[{id:"marketing-email",category:"marketing",name:"Marketing Email Campaign",template:`Write a compelling marketing email for {product} targeting {audience}. 

Key benefits to highlight:
{benefits}

Tone: {tone}
Call-to-action: {cta}

Include:
- Attention-grabbing subject line
- Personalized greeting
- Clear value proposition
- Social proof or testimonials
- Urgent call-to-action`,variables:["product","audience","benefits","tone","cta"],industry:"marketing"},{id:"social-media",category:"marketing",name:"Social Media Post",template:`Create an engaging social media post for {platform} about {topic}.

Target audience: {audience}
Goal: {goal}
Tone: {tone}

Include relevant hashtags and emojis. Keep it concise and actionable.`,variables:["platform","topic","audience","goal","tone"],industry:"marketing"},{id:"financial-analysis",category:"finance",name:"Financial Analysis Report",template:`Generate a financial analysis report for {company} covering {period}.

Key metrics to analyze:
{metrics}

Focus areas:
- Revenue trends
- Profitability ratios
- Cash flow analysis
- Risk assessment
- Future projections

Maintain professional tone and include data-driven insights.`,variables:["company","period","metrics"],industry:"finance"},{id:"investment-memo",category:"finance",name:"Investment Memo",template:`Create an investment memo for {investment_opportunity}.

Investment type: {type}
Amount: {amount}
Timeline: {timeline}

Include:
- Executive summary
- Investment thesis
- Risk analysis
- Financial projections
- Exit strategy`,variables:["investment_opportunity","type","amount","timeline"],industry:"finance"},{id:"patient-summary",category:"healthcare",name:"Patient Summary",template:`Create a clinical summary for patient case.

Chief complaint: {complaint}
Medical history: {history}
Current medications: {medications}

Provide:
- Differential diagnosis
- Recommended tests
- Treatment plan
- Follow-up recommendations

Note: This is for educational/planning purposes only. Not medical advice.`,variables:["complaint","history","medications"],industry:"healthcare"},{id:"legal-brief",category:"legal",name:"Legal Brief Outline",template:`Create an outline for a legal brief regarding {case_type}.

Jurisdiction: {jurisdiction}
Key issues: {issues}

Structure:
- Statement of facts
- Legal issues presented
- Argument outline
- Relevant case law
- Conclusion

Note: For reference only. Consult licensed attorney for legal matters.`,variables:["case_type","jurisdiction","issues"],industry:"legal"},{id:"code-review",category:"technical",name:"Code Review Checklist",template:`Generate a code review checklist for {language} {project_type}.

Focus areas:
{focus_areas}

Include checks for:
- Code quality and readability
- Security vulnerabilities
- Performance optimization
- Best practices
- Testing coverage
- Documentation`,variables:["language","project_type","focus_areas"],industry:"technology"},{id:"meeting-agenda",category:"business",name:"Meeting Agenda",template:`Create a meeting agenda for {meeting_type}.

Duration: {duration}
Participants: {participants}
Objectives: {objectives}

Structure:
- Welcome and introductions
- Review of objectives
- Main discussion points
- Action items
- Next steps
- Q&A`,variables:["meeting_type","duration","participants","objectives"],industry:"general"}]);const Ne=()=>{const[r,t]=m.useState(null),[s,o]=m.useState({}),[c,i]=m.useState(""),[d,v]=m.useState(!1),[N,E]=m.useState("all"),b=B.getAllTemplatesIncludingCustom(),h=["all",...new Set(b.map(a=>a.category))],A=N==="all"?b:b.filter(a=>a.category===N),O=a=>{const p=b.find(j=>j.id===a);p&&(t(p),o({}),i(""))},L=()=>{if(r)try{const a=B.generatePrompt(r.id,s);i(a);const p=JSON.parse(localStorage.getItem("offlinePromptHistory")||"[]");p.unshift({id:Date.now(),template:r.name,prompt:a,timestamp:new Date().toISOString()}),localStorage.setItem("offlinePromptHistory",JSON.stringify(p.slice(0,50))),g.success("Prompt generated offline!")}catch{g.error("Failed to generate prompt")}},R=()=>{navigator.clipboard.writeText(c),v(!0),g.success("Copied to clipboard!"),setTimeout(()=>v(!1),2e3)},f=()=>{const a=new Blob([c],{type:"text/plain"}),p=URL.createObjectURL(a),j=document.createElement("a");j.href=p,j.download=`prompt-${Date.now()}.txt`,j.click(),URL.revokeObjectURL(p),g.success("Prompt downloaded!")},x=c?B.analyzePrompt(c):null;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(G,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Offline Prompt Generator"}),e.jsx("p",{className:"text-muted-foreground",children:"Privacy-first, on-device prompt generation"})]}),e.jsx("div",{className:"ml-auto",children:e.jsxs(P,{variant:"secondary",className:"gap-2",children:[e.jsx(ye,{className:"w-3 h-3"}),"No Cloud Dependency"]})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Category"}),e.jsxs(J,{value:N,onValueChange:E,children:[e.jsx(W,{children:e.jsx(K,{})}),e.jsx(Q,{children:h.map(a=>e.jsx(Y,{value:a,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Select Template"}),e.jsxs(J,{value:(r==null?void 0:r.id)||"",onValueChange:O,children:[e.jsx(W,{children:e.jsx(K,{placeholder:"Choose a template..."})}),e.jsx(Q,{children:A.map(a=>e.jsxs(Y,{value:a.id,children:[a.name,a.industry&&e.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",a.industry,")"]})]},a.id))})]})]}),r&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{children:"Fill in Template Variables"}),r.variables.map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{className:"text-sm",children:a.replace(/_/g," ").toUpperCase()}),e.jsx(pe,{value:s[a]||"",onChange:p=>o(j=>({...j,[a]:p.target.value})),placeholder:`Enter ${a}...`})]},a)),e.jsx(M,{onClick:L,className:"w-full",children:"Generate Prompt"})]}),c&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{children:"Generated Prompt"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{variant:"outline",size:"sm",onClick:R,children:d?e.jsx(D,{className:"w-4 h-4"}):e.jsx(ae,{className:"w-4 h-4"})}),e.jsx(M,{variant:"outline",size:"sm",onClick:f,children:e.jsx(ee,{className:"w-4 h-4"})})]})]}),e.jsx(he,{value:c,readOnly:!0,className:"min-h-[300px] font-mono text-sm"}),x&&e.jsxs(n,{className:"p-4 bg-muted",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Prompt Analysis"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Words"}),e.jsx("p",{className:"font-semibold",children:x.wordCount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Characters"}),e.jsx("p",{className:"font-semibold",children:x.characterCount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Est. Tokens"}),e.jsx("p",{className:"font-semibold",children:x.estimatedTokens})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-muted-foreground",children:"Complexity"}),e.jsx(P,{variant:x.complexity==="simple"?"secondary":x.complexity==="moderate"?"default":"destructive",children:x.complexity})]})]}),x.suggestedImprovements.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:"Suggestions:"}),e.jsx("ul",{className:"text-sm space-y-1",children:x.suggestedImprovements.map((a,p)=>e.jsxs("li",{className:"text-muted-foreground",children:["• ",a]},p))})]})]})]})]})]}),e.jsxs(n,{className:"p-6 border-primary/20",children:[e.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-primary"}),"Enterprise Privacy Features"]}),e.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-primary mt-0.5"}),e.jsx("span",{children:"100% on-device processing - no data leaves your machine"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-primary mt-0.5"}),e.jsx("span",{children:"Works completely offline - no internet required"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-primary mt-0.5"}),e.jsx("span",{children:"HIPAA, SOC2, and GDPR compliant architecture"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-primary mt-0.5"}),e.jsx("span",{children:"Local storage only - full data sovereignty"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(D,{className:"w-4 h-4 text-primary mt-0.5"}),e.jsx("span",{children:"Audit trail stored locally for compliance"})]})]})]})]})},be=()=>{const[r,t]=m.useState(!navigator.onLine),[s,o]=m.useState(()=>{const i=localStorage.getItem("offlineModeEnabled");return i?JSON.parse(i):!1});return m.useEffect(()=>{const i=()=>t(!1),d=()=>t(!0);return window.addEventListener("online",i),window.addEventListener("offline",d),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",d)}},[]),{isOffline:r||s,offlineModeEnabled:s,toggleOfflineMode:i=>{o(i),localStorage.setItem("offlineModeEnabled",JSON.stringify(i))},isNetworkOffline:r}},We=()=>{const r=re(),[t,s]=m.useState(null),[o,c]=m.useState(!0),{isOffline:i,offlineModeEnabled:d,toggleOfflineMode:v,isNetworkOffline:N}=be(),[E,b]=m.useState(()=>localStorage.getItem("dataRetention")==="true"),[h,A]=m.useState(()=>localStorage.getItem("auditLogging")==="true"),[O,L]=m.useState(()=>localStorage.getItem("encryptionEnabled")==="true");m.useEffect(()=>{const{data:{subscription:l}}=I.auth.onAuthStateChange((C,S)=>{s((S==null?void 0:S.user)??null),S||r("/auth")});return I.auth.getSession().then(({data:{session:C}})=>{s((C==null?void 0:C.user)??null),C||r("/auth"),c(!1)}),()=>l.unsubscribe()},[r]);const R=l=>{v(l),g.success(l?"Offline mode enabled":"Offline mode disabled")},f=l=>{b(l),localStorage.setItem("dataRetention",String(l)),g.success(l?"Data retention enabled":"Data retention disabled")},x=l=>{A(l),localStorage.setItem("auditLogging",String(l)),g.success(l?"Audit logging enabled":"Audit logging disabled")},a=l=>{L(l),localStorage.setItem("encryptionEnabled",String(l)),g.success(l?"Encryption enabled":"Encryption disabled")},p=()=>{const l={promptHistory:localStorage.getItem("offlinePromptHistory"),customTemplates:localStorage.getItem("customPromptTemplates"),settings:{offlineMode:d,dataRetention:E,auditLogging:h,encryptionEnabled:O},exportDate:new Date().toISOString()},C=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),S=URL.createObjectURL(C),U=document.createElement("a");U.href=S,U.download=`prompx-enterprise-export-${Date.now()}.json`,U.click(),URL.revokeObjectURL(S),g.success("Data exported successfully!")},j=()=>{confirm("Are you sure you want to clear all local data? This cannot be undone.")&&(localStorage.removeItem("offlinePromptHistory"),localStorage.removeItem("customPromptTemplates"),g.success("Local data cleared"))};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx("div",{className:"animate-pulse-subtle",children:e.jsx("div",{className:"w-12 h-12 border-4 border-primary/20 border-t-primary rounded-full animate-spin"})})}):e.jsx(le,{user:t,showHeader:!1,children:e.jsx("div",{className:"w-full min-h-screen bg-gradient-to-b from-background via-background to-muted/20",children:e.jsxs("div",{className:"container-responsive mx-auto max-w-7xl py-8 sm:py-12 md:py-16 lg:py-20",children:[e.jsxs("div",{className:"mb-8 sm:mb-12 md:mb-14 lg:mb-16",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-4 sm:gap-5 mb-5 sm:mb-6 md:mb-8",children:[e.jsx("div",{className:"p-3 sm:p-3.5 bg-gradient-primary rounded-xl shadow-elegant shrink-0",children:e.jsx(G,{className:"w-7 h-7 sm:w-8 sm:h-8 md:w-9 md:h-9 text-primary-foreground"})}),e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3 md:space-y-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-foreground leading-tight",children:"Enterprise & Privacy"}),e.jsx("p",{className:"text-sm sm:text-base md:text-lg lg:text-xl text-muted-foreground max-w-3xl leading-relaxed",children:"Privacy-first prompt engineering for regulated industries"})]}),i&&e.jsx(P,{variant:"secondary",className:"ml-auto shrink-0 shadow-md px-3 sm:px-4 py-1 sm:py-1.5 text-xs sm:text-sm",children:N?"Network Offline":"Offline Mode Active"})]}),N&&e.jsx(n,{className:"p-4 sm:p-5 md:p-6 border-warning/50 bg-warning/10 shadow-lg rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx(ie,{className:"w-5 h-5 sm:w-6 sm:h-6 text-warning shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm sm:text-base space-y-1",children:[e.jsx("p",{className:"font-semibold text-warning",children:"No Internet Connection"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You're currently offline. All features will work using on-device processing only."})]})]})})]}),e.jsxs(de,{defaultValue:"promptops",className:"w-full space-y-6 sm:space-y-8",children:[e.jsx("div",{className:"flex justify-center overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0",children:e.jsxs(xe,{className:"inline-flex h-11 sm:h-12 items-center justify-center rounded-xl bg-muted/50 p-1.5 text-muted-foreground backdrop-blur-sm border border-border/50",children:[e.jsxs(_,{value:"promptops",className:"px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg text-sm sm:text-base whitespace-nowrap",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"PromptOps"]}),e.jsx(_,{value:"offline",className:"px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg text-sm sm:text-base whitespace-nowrap",children:"Offline Mode"}),e.jsx(_,{value:"privacy",className:"px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg text-sm sm:text-base whitespace-nowrap",children:"Privacy Settings"}),e.jsx(_,{value:"compliance",className:"px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg text-sm sm:text-base whitespace-nowrap",children:"Compliance"})]})}),e.jsx(V,{value:"promptops",className:"mt-0",children:e.jsx(ve,{userId:(t==null?void 0:t.id)||""})}),e.jsx(V,{value:"offline",className:"mt-0 space-y-6",children:e.jsx(Ne,{})}),e.jsx(V,{value:"privacy",className:"mt-0 space-y-6",children:e.jsxs(n,{className:"p-5 sm:p-6 md:p-8 rounded-xl border border-border/50 shadow-lg",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-6 sm:mb-8 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Privacy Controls"}),e.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-5 border border-border/50 rounded-xl hover:border-border transition-colors bg-card/30 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(je,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e.jsx(y,{htmlFor:"offline-mode",className:"font-semibold text-sm sm:text-base",children:"Force Offline Mode"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:"Disable all cloud connections and work entirely on-device"})]}),e.jsx(F,{id:"offline-mode",checked:d,onCheckedChange:R,className:"self-end sm:self-auto"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-5 border border-border/50 rounded-xl hover:border-border transition-colors bg-card/30 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(ue,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e.jsx(y,{htmlFor:"encryption",className:"font-semibold text-sm sm:text-base",children:"Local Data Encryption"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:"Encrypt all locally stored data and prompts"})]}),e.jsx(F,{id:"encryption",checked:O,onCheckedChange:a,className:"self-end sm:self-auto"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-5 border border-border/50 rounded-xl hover:border-border transition-colors bg-card/30 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(ge,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e.jsx(y,{htmlFor:"retention",className:"font-semibold text-sm sm:text-base",children:"Data Retention"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:"Keep local history and analytics data"})]}),e.jsx(F,{id:"retention",checked:E,onCheckedChange:f,className:"self-end sm:self-auto"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 sm:p-5 border border-border/50 rounded-xl hover:border-border transition-colors bg-card/30 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(fe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-primary shrink-0"}),e.jsx(y,{htmlFor:"audit",className:"font-semibold text-sm sm:text-base",children:"Audit Logging"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:"Track all prompt generations for compliance"})]}),e.jsx(F,{id:"audit",checked:h,onCheckedChange:x,className:"self-end sm:self-auto"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4 sm:pt-6",children:[e.jsxs(M,{onClick:p,variant:"outline",className:"h-10 sm:h-11 px-5 sm:px-6 text-sm sm:text-base w-full sm:w-auto",children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Export Data"]}),e.jsx(M,{onClick:j,variant:"destructive",className:"h-10 sm:h-11 px-5 sm:px-6 text-sm sm:text-base w-full sm:w-auto",children:"Clear Local Data"})]})]})]})}),e.jsx(V,{value:"compliance",className:"mt-0 space-y-6",children:e.jsxs(n,{className:"p-5 sm:p-6 md:p-8 rounded-xl border border-border/50 shadow-lg",children:[e.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold mb-6 sm:mb-8 bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Compliance Standards"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6 lg:gap-8",children:[e.jsxs(n,{className:"p-5 sm:p-6 rounded-xl border-primary/30 bg-card/50 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg md:text-xl mb-3 sm:mb-4",children:"HIPAA Compliance"}),e.jsxs("div",{className:"space-y-2 sm:space-y-2.5 text-xs sm:text-sm text-muted-foreground",children:[e.jsx("p",{children:"✓ No PHI transmitted to cloud"}),e.jsx("p",{children:"✓ On-device processing only"}),e.jsx("p",{children:"✓ Encrypted local storage"}),e.jsx("p",{children:"✓ Audit logging available"}),e.jsx("p",{children:"✓ Access controls"})]})]}),e.jsxs(n,{className:"p-5 sm:p-6 rounded-xl border-primary/30 bg-card/50 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg md:text-xl mb-3 sm:mb-4",children:"GDPR Compliance"}),e.jsxs("div",{className:"space-y-2 sm:space-y-2.5 text-xs sm:text-sm text-muted-foreground",children:[e.jsx("p",{children:"✓ Data sovereignty (local storage)"}),e.jsx("p",{children:"✓ Right to erasure (data export/delete)"}),e.jsx("p",{children:"✓ Data portability"}),e.jsx("p",{children:"✓ Privacy by design"}),e.jsx("p",{children:"✓ No cross-border transfers"})]})]}),e.jsxs(n,{className:"p-5 sm:p-6 rounded-xl border-primary/30 bg-card/50 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg md:text-xl mb-3 sm:mb-4",children:"SOC 2 Type II"}),e.jsxs("div",{className:"space-y-2 sm:space-y-2.5 text-xs sm:text-sm text-muted-foreground",children:[e.jsx("p",{children:"✓ Security controls"}),e.jsx("p",{children:"✓ Availability monitoring"}),e.jsx("p",{children:"✓ Processing integrity"}),e.jsx("p",{children:"✓ Confidentiality safeguards"}),e.jsx("p",{children:"✓ Privacy protection"})]})]}),e.jsxs(n,{className:"p-5 sm:p-6 rounded-xl border-primary/30 bg-card/50 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("h3",{className:"font-semibold text-base sm:text-lg md:text-xl mb-3 sm:mb-4",children:"Financial Services"}),e.jsxs("div",{className:"space-y-2 sm:space-y-2.5 text-xs sm:text-sm text-muted-foreground",children:[e.jsx("p",{children:"✓ PCI DSS compliant architecture"}),e.jsx("p",{children:"✓ No sensitive data exposure"}),e.jsx("p",{children:"✓ Air-gapped operation"}),e.jsx("p",{children:"✓ Audit trail maintenance"}),e.jsx("p",{children:"✓ Zero cloud dependency"})]})]})]}),e.jsx(n,{className:"mt-6 sm:mt-8 p-4 sm:p-5 bg-primary/5 rounded-xl border border-primary/10",children:e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground leading-relaxed",children:[e.jsx("strong",{className:"text-foreground",children:"Note:"})," This offline/edge mode is designed for privacy-focused enterprises in regulated industries. All processing happens on your device, ensuring complete data sovereignty and compliance with the strictest regulations."]})})]})})]})]})})})};export{We as default};
